//
//  RecordViewController.m
//  2020
//
//  Created by yurong on 2017/6/29.
//  Copyright ¬© 2017Âπ¥ yurong. All rights reserved.
//

#import "RecordViewController.h"
#import "GameViewController.h"
@interface RecordViewController ()
{
    //jilu
    UILabel * name3;
    UILabel * record3;
    UILabel * name1;
    UILabel * record1;
    UILabel * name2;
    UILabel * record2;
    
    UIButton * butChallengeNum;
    UIButton * butBegin;
    
    UITextField * name;
    UIButton * nameTable;
    UITextField * mima;
    NSInteger suijinum;
    UIScrollView * scrollvie;
    CGFloat keyboardHeight;
    BOOL keyBoardShow;
    //ÈúÄË¶ÅËÆ∞ÂΩïÁöÑÊï∞ÂÄº
     int numViewEmptytype;//Á©∫ËÉåÊôØÁ±ªÂûã
    NSString * GameNum;//Ê∏∏ÊàèÊï∞Èáè
    NSDictionary * dictGameCenter;//ÂÖ≥Âç°ÁöÑÊï∞ÊçÆ Ôºö key ÂÖ≥Âç°Êï∞ÂÄºÔºõ valueÔºödictÔºàgamerRecord123:Áî®Êó∂Èó¥ÊúÄÂ∞ëÁöÑÂâç‰∏â‰∏™Êó∂Èó¥ ÔºõgameRecordname123Ôºâ
    NSDictionary * dictChallengeCenter;//Áî®Êà∑Â≠óÂÖ∏ keyÔºöÁî®Êà∑Âêçpinyin  valueÔºödictÔºàgame:{gamename:@{gamenaem:time}};name:str;mima:mimaÔºâ
    
}
@end

@implementation RecordViewController

-(void)viewWillAppear:(BOOL)animated{
    
    [super viewWillAppear:YES];
    
    dictGameCenter = UserDefault(dictGame);
    
    dictChallengeCenter = UserDefault(dictchallenger);
    
    if (scrollvie) {
        [scrollvie removeFromSuperview];
        
    }
    
}
-(void)viewDidDisappear:(BOOL)animated{
    
    [super viewDidDisappear:YES];
    
    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    name:UIKeyboardWillShowNotification
                                                  object:nil];
    
    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    name:UIKeyboardWillHideNotification
                                                  object:nil];
    
    keyBoardShow = NO;

}
- (void)viewDidLoad {
    [super viewDidLoad];
    
    //ÈöêËóèÂØºËà™Ê†è
    self.navigationController.navigationBar.hidden = YES;
    
    //self.view.backgroundColor = ColorRGB(236, 200, 135);
//    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"mofa.jpg"]];
    
    [self creatData];
    [self CreatUp];
    [self CreatDown];//Áî®Êà∑Âêç ÂØÜÁ†Å ÂºÄÂßãbut
    
    
    
    //ÈîÆÁõòüò†ÈÄöÁü•
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(keyboardWillShow:)
                                                 name:UIKeyboardWillShowNotification
                                               object:nil];
    
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(keyboardWillHide:)
                                                 name:UIKeyboardWillHideNotification
                                               object:nil];


}


-(void)keyboardWillShow:(NSNotification*)notification{
    if (keyBoardShow) {
        return;
    }
    NSDictionary *userInfo = [notification userInfo];
    NSValue *aValue = [userInfo objectForKey:UIKeyboardFrameEndUserInfoKey];
    
    CGRect keyboardRect = [aValue CGRectValue];
    keyboardRect = [self.view convertRect:keyboardRect fromView:nil];
    
   keyboardHeight = keyboardRect.size.height-IPHONEHIGHT(200);
    
    CGRect frame = name.frame;
    frame.origin.y -= keyboardHeight;
    name.frame = frame;
    
    CGRect framee = mima.frame;
    framee.origin.y -= keyboardHeight;
    mima.frame = framee;
    keyBoardShow = YES;
    
    
}
-(void)keyboardWillHide:(NSNotification*)notification{
    
    if (!keyBoardShow) {
        return;
    }
    NSDictionary *userInfo = [notification userInfo];
    NSValue *aValue = [userInfo objectForKey:UIKeyboardFrameEndUserInfoKey];
    
    CGRect keyboardRect = [aValue CGRectValue];
    keyboardRect = [self.view convertRect:keyboardRect fromView:nil];
  
    CGRect frame = name.frame;
    frame.origin.y += keyboardHeight;
    name.frame = frame;
    
    CGRect framee = mima.frame;
    framee.origin.y += keyboardHeight;
    mima.frame = framee;
    
    keyBoardShow = NO;
    
}


-(void)creatData{
    suijinum = 4096*2;

   
}
-(void)CreatUp{
   //Áä∂ÊÄÅÊ†èÈ¢úËâ≤
    UIView *statusBar = [[[UIApplication sharedApplication] valueForKey:@"statusBarWindow"] valueForKey:@"statusBar"];
    
    if ([statusBar respondsToSelector:@selector(setBackgroundColor:)])
    {
        statusBar.backgroundColor = [UIColor orangeColor];
    }

    
    UIImageView * imgViewTop = [[UIImageView alloc] initWithFrame:CGRectMake(0, IPHONEHIGHT(0), ScreenWidth, ScreenWidth/3*2)];
    imgViewTop.image = [UIImage imageNamed:@"bang"];
    imgViewTop.contentMode = UIViewContentModeScaleAspectFill;
    imgViewTop.layer.shadowColor = ColorRGB(63, 90, 127).CGColor;
    imgViewTop.layer.shadowOffset = CGSizeMake(2, 1);
    [self.view addSubview:imgViewTop];
    
    //3
    name3 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(74), IPHONEHIGHT(174), IPHONEWIDTH(70), IPHONEHIGHT(80)) backgroundColor:clearCo title:@"Èìú" font:IPHONEWIDTH(30) Alignment:NSTextAlignmentCenter textColor:blackCo];
    name3.numberOfLines = 2;
    [imgViewTop addSubview:name3];
    
    record3 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(36), IPHONEHIGHT(269), IPHONEWIDTH(150), IPHONEHIGHT(60)) backgroundColor:clearCo title:@"Á≠âÂæÖÊåëÊàò" font:IPHONEWIDTH(30) Alignment:NSTextAlignmentCenter textColor:blackCo];
    [imgViewTop addSubview:record3];
    
    
    //1
    name1 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(312), IPHONEHIGHT(75), IPHONEWIDTH(90), IPHONEHIGHT(90)) backgroundColor:clearCo title:@"Èáë" font:IPHONEWIDTH(35) Alignment:NSTextAlignmentCenter textColor:blackCo];
    name1.numberOfLines = 2;
    
    [imgViewTop addSubview:name1];
    
    record1 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(281), IPHONEHIGHT(200), IPHONEWIDTH(150), IPHONEHIGHT(60)) backgroundColor:clearCo title:@"Á≠âÂæÖÂàõÈÄ†" font:IPHONEWIDTH(35) Alignment:NSTextAlignmentCenter textColor:blackCo];
    [imgViewTop addSubview:record1];
    
    
    //2
    name2 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(615), IPHONEHIGHT(143), IPHONEWIDTH(70), IPHONEHIGHT(80)) backgroundColor:clearCo title:@"Èì∂" font:IPHONEWIDTH(30) Alignment:NSTextAlignmentCenter textColor:blackCo];
    name2.numberOfLines = 2;
    [imgViewTop addSubview:name2];
    
    record2 = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(571), IPHONEHIGHT(235), IPHONEWIDTH(150), IPHONEHIGHT(60)) backgroundColor:clearCo title:@"Á≠â‰Ω†Êù•Êàò" font:IPHONEWIDTH(30) Alignment:NSTextAlignmentCenter textColor:blackCo];
    [imgViewTop addSubview:record2];
    
    CGFloat butwidth = ScreenWidth/4;
    //ÈöèÊú∫ ËÆæÁΩÆ
    UIButton * suiji = [[UIButton alloc] initWithFrame:CGRectMake(IPHONEWIDTH(30), butwidth+ScreenWidth/3*2, IPHONEWIDTH(110), IPHONEHIGHT(55))];
    suiji.backgroundColor = clearCo;
    [suiji setImage:[UIImage imageNamed:@"suiji"] forState:UIControlStateNormal];
    [suiji addTarget:self action:@selector(suiji) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:suiji];
    
    UIButton * shezhi = [[UIButton alloc] initWithFrame:CGRectMake(ScreenWidth-IPHONEWIDTH(140), butwidth+ScreenWidth/3*2, IPHONEWIDTH(110), IPHONEHIGHT(55))];
    shezhi.backgroundColor = clearCo;
    [shezhi setImage:[UIImage imageNamed:@"shezhi"] forState:UIControlStateNormal];
    [shezhi addTarget:self action:@selector(shezhi) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:shezhi];
    
    //ÈÄâÊã©ÊåëÊàò Êï∞ÂÄº
    UILabel * la = [myLabel labelWithframe:CGRectMake(IPHONEWIDTH(40), ScreenWidth/3*2-IPHONEHIGHT(50), ScreenWidth-IPHONEWIDTH(80), IPHONEHIGHT(50)) backgroundColor:clearCo title:@"ÁÇπÂáªÊï∞Â≠óÈöèÊú∫Êé®ËçêÁöÑÈÄâÈ°π" font:IPHONEHIGHT(35) Alignment:NSTextAlignmentCenter textColor:[UIColor greenColor]];
    [self.view addSubview:la];
    
    
    for (int i=0; i<4; i++) {
        
        UIButton * but = [[UIButton alloc] initWithFrame:CGRectMake(i%2*(butwidth)+ScreenWidth/2-butwidth, i/2*butwidth+ScreenWidth/3*2, butwidth, butwidth)];
        but.layer.cornerRadius = butwidth/3;
        but.layer.masksToBounds = YES;
        but.backgroundColor = clearCo;
        [but setImage:[UIImage imageNamed:@"0"] forState:UIControlStateNormal];
        but.tag = i+101;
        [but addTarget:self action:@selector(butAction:) forControlEvents:UIControlEventTouchUpInside];
        
        [self.view addSubview:but];
        
    }
    
    
}

-(void)CreatDown{
    
    name = [[UITextField alloc] initWithFrame:CGRectMake(IPHONEWIDTH(50), ScreenWidth+IPHONEHIGHT(130), ScreenWidth-IPHONEWIDTH(200+80), IPHONEHIGHT(90))];
    name.placeholder = @"ËæìÂÖ•Áî®Êà∑Âêç(Â≠óÊØçÔºèÊï∞Â≠ó)";
    name.borderStyle = UITextBorderStyleRoundedRect;
    name.textColor = [UIColor orangeColor];
    
    mima = [[UITextField alloc] initWithFrame:CGRectMake(IPHONEWIDTH(50),ScreenWidth+IPHONEHIGHT(230), ScreenWidth-IPHONEWIDTH(100), IPHONEHIGHT(90))];
    mima.placeholder = @"ËæìÂÖ•ÂØÜÁ†Å(Â≠óÊØçÔºèÊï∞Â≠ó)";
    mima.borderStyle = UITextBorderStyleRoundedRect;
    mima.textColor = [UIColor orangeColor];
    
    [self.view addSubview:name];
    [self.view addSubview:mima];
    
    
    //name button
    nameTable = [myButton buttonWithType:UIButtonTypeSystem frame:CGRectMake(ScreenWidth-IPHONEWIDTH(220), ScreenWidth+IPHONEHIGHT(140), IPHONEWIDTH(200), IPHONEHIGHT(80)) tag:666 image:@"" andBlock:^(myButton *button) {
        NSArray * challenger = [dictChallengeCenter allKeys];
        if (!challenger.count) {
            
            [MBProgressHUD showText:@"ËøòÊ≤°ÊúâÊåëÊàòËÆ∞ÂΩïÔºåÂéªÂàõÈÄ†ÂéÜÂè≤Âêß" HUDAddedTo:self.view animated:YES afterDelay:2];
            return ;
        }
       
        
        
        scrollvie = [[UIScrollView alloc] initWithFrame:CGRectMake(ScreenWidth-IPHONEWIDTH(220), ScreenWidth+IPHONEHIGHT(230), IPHONEWIDTH(200), challenger.count<3?challenger.count*IPHONEHIGHT(70):IPHONEHIGHT(70)*3)];
        scrollvie.contentSize =CGSizeMake(IPHONEWIDTH(80), challenger.count*IPHONEHIGHT(70));
        scrollvie.scrollEnabled = YES;
        scrollvie.backgroundColor = clearCo;
        scrollvie.bounces  = YES;
        [self.view addSubview:scrollvie];
    
        for (int i=0; i<challenger.count; i++) {
            
            UIButton * butt = [myButton buttonWithType:UIButtonTypeSystem frame:CGRectMake(0,i*IPHONEHIGHT(70), IPHONEWIDTH(200), IPHONEHIGHT(60)) title:challenger[i] andBackground:ColorRGB(240, 143, 70) tag:i andBlock:^(myButton *button) {
                
                name.text =challenger[button.tag];
                
                [scrollvie removeFromSuperview];
               
            }];
            butt.titleLabel.font = [UIFont systemFontOfSize:IPHONEHIGHT(30)];
            butt.layer.cornerRadius = IPHONEWIDTH(10);
            butt.layer.masksToBounds = YES;
            [butt setTitleColor:whiteCo forState:UIControlStateNormal];
            [scrollvie addSubview:butt];
            
        }
        
    }];
    nameTable.backgroundColor = [UIColor orangeColor];
    [nameTable setTitle:@"ÂéÜÂè≤Áé©ÂÆ∂" forState:UIControlStateNormal];
    [nameTable setTitleColor:ColorRGB(71, 56, 105) forState:UIControlStateNormal];
    nameTable.titleLabel.font = [UIFont boldSystemFontOfSize:IPHONEWIDTH(35)];
     [self.view addSubview:nameTable];
    
    
    
    //ÂºÄÂßãÊ∏∏ÊàèÊåâÈíÆ
    butBegin = [myButton buttonWithType:UIButtonTypeSystem frame:CGRectMake(IPHONEWIDTH(150), ScreenWidth+IPHONEHIGHT(160+190)   , ScreenWidth-IPHONEWIDTH(300), IPHONEHIGHT(120))  title:@"ÂºÄÂßãÊ∏∏Êàè" andBackground:[UIColor orangeColor] tag:111000 andBlock:^(myButton *button) {
        
        [self beginGame];
        
    }];
   butBegin.titleLabel.font = [UIFont boldSystemFontOfSize:IPHONEWIDTH(55)];
    butBegin.layer.cornerRadius = IPHONEWIDTH(15);
    butBegin.layer.masksToBounds = YES;
    [butBegin setTitleColor:ColorRGB(71, 56, 105) forState:UIControlStateNormal];
    [self.view addSubview:butBegin];

    
    UIImageView * imgViedown = [[UIImageView alloc] initWithFrame:self.view.frame];
    imgViedown.image = [UIImage imageNamed:@"mofa.jpg"];
    imgViedown.userInteractionEnabled = YES;
    [self.view addSubview:imgViedown];
    [self.view sendSubviewToBack:imgViedown];
}
-(NSString *)suijishuwithInt{
    int num = (int)(arc4random()%9);
    int zong = suijinum;
    for (int i=0; i<num; i++) {
        zong = zong/2;
    }
    return [NSString stringWithFormat:@"%d",zong];
}
-(void)Gamerecordlabel{
    NSDictionary * game =  dictGameCenter[GameNum];
    
    name1.text =  game[@"gamerRecord1"][@"name"];
    name2.text = game[@"gamerRecord2"][@"name"];
    name3.text = game[@"gamerRecord3"][@"name"];
    
    record1.text =[self timerChangeString: game[@"gamerRecord1"][@"record"]];
    record2.text =[self timerChangeString: game[@"gamerRecord2"][@"record"]];
    record3.text =[self timerChangeString: game[@"gamerRecord3"][@"record"]];
    
}
-(NSString*)timerChangeString:(NSString*)string{
    
    int time = [string intValue];
    int miao = time%600;
    int fen = time/6000;
    
    return [NSString stringWithFormat:@"%d:%d",fen,miao];
    
}
//Ê∏∏ÊàèÂºÄÂßã‰∏éÂê¶Âà§Êñ≠
-(void)beginGame{
    
     GameViewController * gameview = [[GameViewController alloc]init];
    gameview.GameNum = GameNum;
    
    gameview.GameRecord1 = record1.text;
    gameview.GameRecord2 = record2.text;
    gameview.GameRecord3 = record3.text;
    //Ê∏∏ÊàèÁ≠âÁ∫ß
    if (!GameNum.length) {
        
        [MBProgressHUD showText:@"ËØ∑ÈÄâÊã©Ê∏∏ÊàèÁ≠âÁ∫ß" HUDAddedTo:self.view animated:YES afterDelay:1.5];
        return;
    }
    
    //Ê£ÄÊµãÁî®Êà∑Âêç
    if(!name.text.length){
        
        [UIView pushAlertTwoActionViewWithMessage:@"ËøòÊ≤°ÊúâËæìÂÖ•Áî®Êà∑ÂêçÔºåÁõ¥Êé•ËøõÂÖ•Ê∏∏ÊàèÔºå‰∏ç‰øùÂ≠òÊ∏∏ÊàèËÆ∞ÂΩï" Target:self Title:@"ÊèêÁ§∫" oneAlertTitle:@"Áõ¥Êé•Ê∏∏Êàè" twoAlertTitle:@"ËøîÂõû" oneActionfunc:^{
            
            [self.navigationController pushViewController:gameview animated:YES];
            
            
        } twoActionfunc:^{
            return ;
        }];
        
    }
    
    if (mima.text.length>0) {
        
        NSString * mimaa = dictChallengeCenter[name.text][mima];
       
        if (mimaa.length>0) {
            //ÂØÜÁ†Å ÊúâÂÄº
            if ([mima.text isEqualToString:mimaa]) {
            
                //ÂØÜÁ†ÅÊ≠£Á°ÆËøõÂÖ•
                [self.navigationController pushViewController:gameview animated:YES];
                
                
            }else{
                [MBProgressHUD showText:@"ÂØÜÁ†ÅÈîôËØØÔºåËØ∑Ê£ÄÊü•Áî®Êà∑ÂêçÔºèÂØÜÁ†Å" HUDAddedTo:self.view animated:YES afterDelay:1.5];
                
                
            
            }
            
            
        }else{
            
            //Ê≤°ÊúâÁõ∏Â∫îÁöÑÂØÜÁ†Å ÁúãÁúãËØ•Áî®Êà∑Â≠òÂú®Âêó„ÄÇ‰∏çÂ≠òÂú®ÊòØÂê¶ÂàõÂª∫
            if (!dictChallengeCenter[name.text]) {
                
                [UIView pushAlertTwoActionViewWithMessage:[NSString stringWithFormat:@"ÊòØÂê¶ÂàõÂª∫Êñ∞Áî®Êà∑:%@",name.text] Target:self Title:@"ÊèêÁ§∫" oneAlertTitle:@"Â•ΩÁöÑ" twoAlertTitle:@"‰∏ç" oneActionfunc:^{
                    //ÂàõÂª∫Áî®Êà∑Âïä
                     NSDictionary * dictname = @{@"mima":mima.text,@"name":name.text,@"game":@{GameNum:@""}};
                    
                    NSMutableDictionary * dictmu = [NSMutableDictionary dictionary];
                    [dictmu setDictionary:dictChallengeCenter];
                    [dictmu setObject:dictname forKey:name.text];
                   
                    UserDefaults(dictmu, dictchallenger);
                    gameview.challengeName = name.text;
                    [self.navigationController pushViewController:gameview animated:YES];
                    
                } twoActionfunc:^{
                    return ;
                }];

            }
        
    }
        
    }else{
        [MBProgressHUD showText:@"ËØ∑ËæìÂÖ•ÂØÜÁ†Å" HUDAddedTo:self.view animated:YES afterDelay:1.5];
        
    }
    
    
    
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    
    
    
}
//ËÆæÁΩÆÂÖ≥Âç°ÊòæÁ§∫ÁöÑÊï∞ÂÄº
-(void)SetGuanButWith:(NSString*)string{
    
    //ËÆæÁΩÆÂÖ≥Âç°
    GameNum = string;
    [self Gamerecordlabel];//
    //Â¶ÇÊûú Êï∞ÂÄº‰ΩçÊï∞‰∏çË∂≥Âõõ‰Ωç Âú®ÂâçËæπË°•„Äá
    NSMutableString * ChallengeNum = [NSMutableString stringWithString:GameNum];
    for (int j=0; j<(4-GameNum.length); j++) {
        
        [ChallengeNum insertString:@"0" atIndex:0];
    }
    //Êï∞ÂÄºÁ¨¶ÂêàË¶ÅÊ±Ç
    for (int i=0; i<4; i++) {
        
        UIButton * but = (UIButton*)[self.view viewWithTag:i+101];
        NSString * str = [ChallengeNum substringWithRange:NSMakeRange(i, 1)];
        [but  setImage:[UIImage imageNamed:str] forState:UIControlStateNormal];
        
    }
    
}
//ÁÇπÂáª Êï∞Â≠ó ÁªôÂá∫Êé®ËçêÁöÑ ÈÄâÈ°π
-(void)butAction:(UIButton*)but{
    UIAlertController * tuijian = [UIAlertController alertControllerWithTitle:@"" message:@"ÂÖ≥Âç°Êé®Ëçê" preferredStyle:UIAlertControllerStyleActionSheet];
   
    NSArray * arrayNumkey = [dictGameCenter allKeys];
    for (int i=0; i<5; i++) {
        
        if (i+1<arrayNumkey.count) {
            UIAlertAction * tui = [UIAlertAction actionWithTitle:arrayNumkey[i] style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
                
                [self SetGuanButWith:arrayNumkey[i]];
                
            }];
            
            [tuijian addAction:tui];
            
        }else{
            
            NSString * suiji = [self suijishuwithInt];
            UIAlertAction * tui = [UIAlertAction actionWithTitle:suiji style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
                
                [self SetGuanButWith:suiji ];
            }];
            
            [tuijian addAction:tui];
            
        }
        
    }
    
    UIAlertAction * quxiao = [UIAlertAction actionWithTitle:@"ÂèñÊ∂à" style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        
        
    }];
    
    [tuijian addAction:quxiao];
    
    [self presentViewController:tuijian animated:YES completion:nil];
    
}

-(void)suiji{
    
    
    
   [self SetGuanButWith:[self suijishuwithInt]];



}

-(void)touchesBegan:(NSSet<UITouch *> *)touches withEvent:(UIEvent *)event{
    
    [self.view endEditing:YES];
    
    if (scrollvie) {
        [scrollvie removeFromSuperview];
        
    }
}
-(void)shezhi{
    
    UIAlertController * shenum = [UIAlertController alertControllerWithTitle:@"ÂÖ≥Âç°ËÆæÁΩÆ" message:@"ËØ∑ËæìÂÖ•‰ªªÊÑèÂõõ‰ΩçÂÖ≥Âç°Êï∞" preferredStyle:UIAlertControllerStyleAlert];
    [shenum addTextFieldWithConfigurationHandler:^(UITextField * _Nonnull textField) {
        textField.placeholder =@"ËæìÂÖ•ÂêÑ‰Ωç‰∏∫ÂÅ∂Êï∞ÁöÑÊï∞ÂÄº";
    }];
    
    UIAlertAction * haode = [UIAlertAction actionWithTitle:@"Á°ÆÂÆö" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
        
        UITextField * shuzhi = shenum.textFields.firstObject;
        if (![self isNum:shuzhi.text] || [shuzhi.text isEqualToString:@"0"] || !shuzhi.text || ([shuzhi.text intValue]%2 || shuzhi.text.length>4)) {
            
            [UIView pushAlertViewWithMessage:@"ËæìÂÖ•Êï∞ÂÄº‰∏çÁ¨¶ÂêàË¶ÅÊ±ÇÔºåËØ∑ÈáçÊñ∞ËæìÂÖ•" Target:self Title:@"ÊèêÁ§∫" AlertTitle:@"Â•ΩÁöÑ"];
        }else{
            //
           
            
        }
        
        
        
    }];
    UIAlertAction * quxiao = [UIAlertAction actionWithTitle:@"ÂèñÊ∂à" style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {
        
    }];
    
    [shenum addAction:haode];
    [shenum addAction:quxiao];
    
    [self presentViewController:shenum animated:YES completion:nil];
    
}
//Âà§Êñ≠Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÂÖ®Êï∞Â≠ó
- (BOOL)isNum:(NSString *)checkedNumString {
    checkedNumString = [checkedNumString stringByTrimmingCharactersInSet:[NSCharacterSet decimalDigitCharacterSet]];
    if(checkedNumString.length > 0) {
        return NO;
    }
    return YES;
}
@end
